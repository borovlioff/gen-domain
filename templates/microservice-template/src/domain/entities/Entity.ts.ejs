export class <%= entity %> {
  <%_ fields.forEach(field => { _%>
  public <%= field.name %>: <%= toTsType(field.type) %>;
  <%_ }); _%>

  constructor(
    <%_ fields.forEach((field, index) => { _%>
    <%= field.name %>: <%= toTsType(field.type) %><%= index < fields.length - 1 ? ',' : '' %>
    <%_ }); _%>
  ) {
    <%_ fields.forEach(field => { _%>
    this.<%= field.name %> = <%= field.name %>;
    <%_ }); _%>
  }

  // Безопасное обновление полей
  public updateProps(updates: Partial<Omit<<%= entity %>, 'id'>>) {
    Object.assign(this, updates);
  }
}

<% 
function toTsType(type) {
  switch(type) {
    case 'string': return 'string';
    case 'number': return 'number';
    case 'boolean': return 'boolean';
    case 'date': return 'Date';
    case 'object': return 'Record<string, any>';
    default: return 'any';
  }
}
%>